<Heading Size="HeadingSize.Is5" Margin="Margin.Is2.OnY">Combat</Heading>
<Row Margin="Margin.Is2.OnY">
    <Column ColumnSize="ColumnSize.Is6.Is2.WithOffset">
        <Select id="weapons-select" TValue="int">
        @foreach (Weapon weapon in WeaponList)
        {
            <SelectItem Value="@weapon.ItemTypeID">@weapon.Name</SelectItem>
        }
        </Select>
    </Column>
    <Column ColumnSize="ColumnSize.Is2">
        <Button id="attack-monster-btn" Color="Color.Secondary" Margin="Margin.Is1"
                Disabled="@disableAttack" Clicked="OnAttackClicked">
            Attack!
        </Button>
    </Column>
</Row>
 
@code {
    private bool disableAttack => !WeaponList.Any() || LocationHasMonster == false;
    private int selectedWeaponId;
 
    [Parameter]
    public IEnumerable<GameItem> WeaponList { get; set; } = Array.Empty<Weapon>();
 
    [Parameter]
    public bool LocationHasMonster { get; set; } = false;
 
    [Parameter]
    public EventCallback<Weapon?> AttackClicked { get; set; }
 
    protected override void OnInitialized()
    {
        selectedWeaponId = WeaponList.Any() ? WeaponList.First().ItemTypeID : 0;
    }
 
    public void OnAttackClicked()
    {
        var weapon = selectedWeaponId > 0 ? WeaponList.First(f => f.ItemTypeID == selectedWeaponId) : null;
        AttackClicked.InvokeAsync(weapon as Weapon);
    }
}